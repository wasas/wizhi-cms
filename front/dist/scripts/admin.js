!function(t){var n={url:document.URL,method:"POST",extraData:{},maxFileSize:0,allowedTypes:"*",dataType:null,fileName:"file",onInit:function(){},onFallbackMode:function(){message},onNewFile:function(e,t){},onBeforeUpload:function(e){},onComplete:function(){},onUploadProgress:function(e,t){},onUploadSuccess:function(e,t){},onUploadError:function(e,t){},onFileTypeError:function(e){},onFileSizeError:function(e){}},r=function(e,r){return this.element=t(e),this.settings=t.extend({},n,r),!!this.checkBrowser()&&(this.init(),!0)};r.prototype.checkBrowser=function(){return void 0===window.FormData?(this.settings.onFallbackMode.call(this.element,"Browser doesn't support From API"),!1):this.element.find("input[type=file]").length>0||(!(!this.checkEvent("drop",this.element)||!this.checkEvent("dragstart",this.element))||(this.settings.onFallbackMode.call(this.element,"Browser doesn't support Ajax Drag and Drop"),!1))},r.prototype.checkEvent=function(e,t){var t=t||document.createElement("div"),e="on"+e,n=e in t;return n||(t.setAttribute||(t=document.createElement("div")),t.setAttribute&&t.removeAttribute&&(t.setAttribute(e,""),n="function"==typeof t[e],void 0!==t[e]&&(t[e]=void 0),t.removeAttribute(e))),t=null,n},r.prototype.init=function(){var e=this;e.queue=new Array,e.queuePos=-1,e.queueRunning=!1,e.element.on("drop",function(t){t.preventDefault();var n=t.originalEvent.dataTransfer.files;e.queueFiles(n)}),e.element.find("input[type=file]").on("change",function(n){var r=n.target.files;e.queueFiles(r),t(this).val("")}),this.settings.onInit.call(this.element)},r.prototype.queueFiles=function(e){for(var t=this.queue.length,n=0;n<e.length;n++){var r=e[n];if(this.settings.maxFileSize>0&&r.size>this.settings.maxFileSize)this.settings.onFileSizeError.call(this.element,r);else if("*"==this.settings.allowedTypes||r.type.match(this.settings.allowedTypes)){this.queue.push(r);var a=this.queue.length-1;this.settings.onNewFile.call(this.element,a,r)}else this.settings.onFileTypeError.call(this.element,r)}return!this.queueRunning&&(this.queue.length!=t&&(this.processQueue(),!0))},r.prototype.processQueue=function(){var n=this;if(++n.queuePos>=n.queue.length)return n.settings.onComplete.call(n.element),n.queuePos=n.queue.length-1,void(n.queueRunning=!1);var r=n.queue[n.queuePos],a=new FormData;a.append(n.settings.fileName,r),t.each(n.settings.extraData,function(e,t){a.append(e,t)}),n.settings.onBeforeUpload.call(n.element,n.queuePos),n.queueRunning=!0,t.ajax({url:n.settings.url,type:n.settings.method,dataType:n.settings.dataType,data:a,cache:!1,contentType:!1,processData:!1,forceSync:!1,xhr:function(){var r=t.ajaxSettings.xhr();return r.upload&&r.upload.addEventListener("progress",function(t){var r=0,a=t.loaded||t.position,o=t.total||e.totalSize;t.lengthComputable&&(r=Math.ceil(a/o*100)),n.settings.onUploadProgress.call(n.element,n.queuePos,r)},!1),r},success:function(e,t,r){n.settings.onUploadSuccess.call(n.element,n.queuePos,e)},error:function(e,t,r){n.settings.onUploadError.call(n.element,n.queuePos,r)},complete:function(e,t){n.processQueue()}})},t.fn.dmUploader=function(e){return this.each(function(){t.data(this,"dmUploader")||t.data(this,"dmUploader",new r(this,e))})},t(document).on("dragenter",function(e){e.stopPropagation(),e.preventDefault()}),t(document).on("dragover",function(e){e.stopPropagation(),e.preventDefault()}),t(document).on("drop",function(e){e.stopPropagation(),e.preventDefault()})}(jQuery),function(e,t){if(e.JSON)if("function"==typeof define&&define.amd)define(function(){return t(e)});else if("object"==typeof module&&"object"==typeof module.exports)module.exports=t(e);else{var n=!e.Nette||!e.Nette.noInit;e.Nette=t(e),n&&e.Nette.initOnLoad()}}("undefined"!=typeof window?window:this,function(window){"use strict";function getHandler(e){return function(t){return e.call(this,t)}}var Nette={};return Nette.formErrors=[],Nette.version="2.4",Nette.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n):"DOMContentLoaded"===t?e.attachEvent("onreadystatechange",function(){"complete"===e.readyState&&n.call(this)}):e.attachEvent("on"+t,getHandler(n))},Nette.getValue=function(e){var t;if(e){if(e.tagName){if("radio"===e.type){var n=e.form.elements;for(t=0;t<n.length;t++)if(n[t].name===e.name&&n[t].checked)return n[t].value;return null}if("file"===e.type)return e.files||e.value;if("select"===e.tagName.toLowerCase()){var r=e.selectedIndex,a=e.options,o=[];if("select-one"===e.type)return r<0?null:a[r].value;for(t=0;t<a.length;t++)a[t].selected&&o.push(a[t].value);return o}if(e.name&&e.name.match(/\[\]$/)){var n=e.form.elements[e.name].tagName?[e]:e.form.elements[e.name],o=[];for(t=0;t<n.length;t++)("checkbox"!==n[t].type||n[t].checked)&&o.push(n[t].value);return o}return"checkbox"===e.type?e.checked:"textarea"===e.tagName.toLowerCase()?e.value.replace("\r",""):e.value.replace("\r","").replace(/^\s+|\s+$/g,"")}return e[0]?Nette.getValue(e[0]):null}return null},Nette.getEffectiveValue=function(e){var t=Nette.getValue(e);return e.getAttribute&&t===e.getAttribute("data-nette-empty-value")&&(t=""),t},Nette.validateControl=function(e,t,n,r,a){e=e.tagName?e:e[0],t=t||Nette.parseJSON(e.getAttribute("data-nette-rules")),r=void 0===r?{value:Nette.getEffectiveValue(e)}:r;for(var o=0,i=t.length;o<i;o++){var u=t[o],l=u.op.match(/(~)?([^?]+)/),s=u.control?e.form.elements.namedItem(u.control):e;if(u.neg=l[1],u.op=l[2],u.condition=!!u.rules,s)if("optional"!==u.op){if(!a||u.condition||":filled"===u.op){s=s.tagName?s:s[0];var f=e===s?r:{value:Nette.getEffectiveValue(s)},c=Nette.validateRule(s,u.op,u.arg,f);if(null!==c)if(u.neg&&(c=!c),u.condition&&c){if(!Nette.validateControl(e,u.rules,n,r,":blank"!==u.op&&a))return!1}else if(!u.condition&&!c){if(Nette.isDisabled(s))continue;if(!n){var d=Nette.isArray(u.arg)?u.arg:[u.arg],m=u.msg.replace(/%(value|\d+)/g,function(t,n){return Nette.getValue("value"===n?s:e.form.elements.namedItem(d[n].control))});Nette.addError(s,m)}return!1}}}else a=!Nette.validateRule(e,":filled",null,r)}return!("number"===e.type&&!e.validity.valid)||(n||Nette.addError(e,"Please enter a valid value."),!1)},Nette.validateForm=function(e,t){var n=e.form||e,r=!1;if(Nette.formErrors=[],n["nette-submittedBy"]&&null!==n["nette-submittedBy"].getAttribute("formnovalidate")){var a=Nette.parseJSON(n["nette-submittedBy"].getAttribute("data-nette-validation-scope"));if(!a.length)return Nette.showFormErrors(n,[]),!0;r=new RegExp("^("+a.join("-|")+"-)")}var o,i,u={};for(o=0;o<n.elements.length;o++)if(i=n.elements[o],!i.tagName||i.tagName.toLowerCase()in{input:1,select:1,textarea:1,button:1}){if("radio"===i.type){if(u[i.name])continue;u[i.name]=!0}if(!(r&&!i.name.replace(/]\[|\[|]|$/g,"-").match(r)||Nette.isDisabled(i)||Nette.validateControl(i,null,t)||Nette.formErrors.length))return!1}var l=!Nette.formErrors.length;return Nette.showFormErrors(n,Nette.formErrors),l},Nette.isDisabled=function(e){if("radio"===e.type){for(var t=0,n=e.form.elements;t<n.length;t++)if(n[t].name===e.name&&!n[t].disabled)return!1;return!0}return e.disabled},Nette.addError=function(e,t){Nette.formErrors.push({element:e,message:t})},Nette.showFormErrors=function(e,t){if(t.length)for(var n=0;n<t.length;n++){var r=t[n],a=document.createElement("span"),o=document.createTextNode(r.message),i=r.element.parentNode;a.className="help-block",a.appendChild(o),i.className+=" has-error",i.appendChild(a),t[0].element.focus()}},Nette.expandRuleArgument=function(e,t){if(t&&t.control){var n=e.elements.namedItem(t.control),r={value:Nette.getEffectiveValue(n)};Nette.validateControl(n,null,!0,r),t=r.value}return t},Nette.validateRule=function(e,t,n,r){r=void 0===r?{value:Nette.getEffectiveValue(e)}:r,":"===t.charAt(0)&&(t=t.substr(1)),t=t.replace("::","_"),t=t.replace(/\\/g,"");for(var a=Nette.isArray(n)?n.slice(0):[n],o=0,i=a.length;o<i;o++)a[o]=Nette.expandRuleArgument(e.form,a[o]);return Nette.validators[t]?Nette.validators[t](e,Nette.isArray(n)?a:a[0],r.value,r):null},Nette.validators={filled:function(e,t,n){return!("number"!==e.type||!e.validity.badInput)||""!==n&&!1!==n&&null!==n&&(!Nette.isArray(n)||!!n.length)&&(!window.FileList||!(n instanceof window.FileList)||n.length)},blank:function(e,t,n){return!Nette.validators.filled(e,t,n)},valid:function(e){return Nette.validateControl(e,null,!0)},equal:function(e,t,n){function r(e){return"number"==typeof e||"string"==typeof e?""+e:!0===e?"1":""}if(void 0===t)return null;n=Nette.isArray(n)?n:[n],t=Nette.isArray(t)?t:[t];e:for(var a=0,o=n.length;a<o;a++){for(var i=0,u=t.length;i<u;i++)if(r(n[a])===r(t[i]))continue e;return!1}return!0},notEqual:function(e,t,n){return void 0===t?null:!Nette.validators.equal(e,t,n)},minLength:function(e,t,n){if("number"===e.type){if(e.validity.tooShort)return!1;if(e.validity.badInput)return null}return n.length>=t},maxLength:function(e,t,n){if("number"===e.type){if(e.validity.tooLong)return!1;if(e.validity.badInput)return null}return n.length<=t},length:function(e,t,n){if("number"===e.type){if(e.validity.tooShort||e.validity.tooLong)return!1;if(e.validity.badInput)return null}return t=Nette.isArray(t)?t:[t,t],(null===t[0]||n.length>=t[0])&&(null===t[1]||n.length<=t[1])},email:function(e,t,n){return/^("([ !#-[\]-~]|\\[ -~])+"|[-a-z0-9!#$%&'*+\/=?^_`{|}~]+(\.[-a-z0-9!#$%&'*+\/=?^_`{|}~]+)*)@([0-9a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,61}[0-9a-z\u00C0-\u02FF\u0370-\u1EFF])?\.)+[a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,17}[a-z\u00C0-\u02FF\u0370-\u1EFF])?$/i.test(n)},url:function(e,t,n,r){return/^[a-z\d+.-]+:/.test(n)||(n="http://"+n),!!/^https?:\/\/((([-_0-9a-z\u00C0-\u02FF\u0370-\u1EFF]+\.)*[0-9a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,61}[0-9a-z\u00C0-\u02FF\u0370-\u1EFF])?\.)?[a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,17}[a-z\u00C0-\u02FF\u0370-\u1EFF])?|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}|\[[0-9a-f:]{3,39}\])(:\d{1,5})?(\/\S*)?$/i.test(n)&&(r.value=n,!0)},regexp:function(e,t,n){var r="string"==typeof t&&t.match(/^\/(.*)\/([imu]*)$/);try{return r&&new RegExp(r[1],r[2].replace("u","")).test(n)}catch(e){}},pattern:function(e,t,n){try{return"string"==typeof t?new RegExp("^(?:"+t+")$").test(n):null}catch(e){}},integer:function(e,t,n){return("number"!==e.type||!e.validity.badInput)&&/^-?[0-9]+$/.test(n)},float:function(e,t,n,r){return("number"!==e.type||!e.validity.badInput)&&(n=n.replace(" ","").replace(",","."),!!/^-?[0-9]*[.,]?[0-9]+$/.test(n)&&(r.value=n,!0))},min:function(e,t,n){if("number"===e.type){if(e.validity.rangeUnderflow)return!1;if(e.validity.badInput)return null}return null===t||parseFloat(n)>=t},max:function(e,t,n){if("number"===e.type){if(e.validity.rangeOverflow)return!1;if(e.validity.badInput)return null}return null===t||parseFloat(n)<=t},range:function(e,t,n){if("number"===e.type){if(e.validity.rangeUnderflow||e.validity.rangeOverflow)return!1;if(e.validity.badInput)return null}return Nette.isArray(t)?(null===t[0]||parseFloat(n)>=t[0])&&(null===t[1]||parseFloat(n)<=t[1]):null},submitted:function(e){return e.form["nette-submittedBy"]===e},fileSize:function(e,t,n){if(window.FileList)for(var r=0;r<n.length;r++)if(n[r].size>t)return!1;return!0},image:function(e,t,n){if(window.FileList&&n instanceof window.FileList)for(var r=0;r<n.length;r++){var a=n[r].type;if(a&&"image/gif"!==a&&"image/png"!==a&&"image/jpeg"!==a)return!1}return!0}},Nette.toggleForm=function(e,t){var n;for(Nette.toggles={},n=0;n<e.elements.length;n++)e.elements[n].tagName.toLowerCase()in{input:1,select:1,textarea:1,button:1}&&Nette.toggleControl(e.elements[n],null,null,!t);for(n in Nette.toggles)Nette.toggle(n,Nette.toggles[n],t)},Nette.toggleControl=function(e,t,n,r,a){t=t||Nette.parseJSON(e.getAttribute("data-nette-rules")),a=void 0===a?{value:Nette.getEffectiveValue(e)}:a;for(var o,i=!1,u=[],l=function(){Nette.toggleForm(e.form,e)},s=0,f=t.length;s<f;s++){var c=t[s],d=c.op.match(/(~)?([^?]+)/),m=c.control?e.form.elements.namedItem(c.control):e;if(m){if(o=n,!1!==n){c.neg=d[1],c.op=d[2];var p=e===m?a:{value:Nette.getEffectiveValue(m)};if(null===(o=Nette.validateRule(m,c.op,c.arg,p)))continue;c.neg&&(o=!o),c.rules||(n=o)}if(c.rules&&Nette.toggleControl(e,c.rules,o,r,a)||c.toggle){if(i=!0,r)for(var g=!document.addEventListener,v=m.tagName?m.name:m[0].name,h=m.tagName?m.form.elements:m,N=0;N<h.length;N++)h[N].name!==v||Nette.inArray(u,h[N])||(Nette.addEvent(h[N],g&&h[N].type in{checkbox:1,radio:1}?"click":"change",l),u.push(h[N]));for(var y in c.toggle||[])Object.prototype.hasOwnProperty.call(c.toggle,y)&&(Nette.toggles[y]=Nette.toggles[y]||(c.toggle[y]?o:!o))}}}return i},Nette.parseJSON=function(s){return"{op"===(s||"").substr(0,3)?eval("["+s+"]"):JSON.parse(s||"[]")},Nette.toggle=function(e,t,n){var r=document.getElementById(e);r&&(r.style.display=t?"":"none")},Nette.initForm=function(e){Nette.toggleForm(e),e.noValidate||(e.noValidate=!0,Nette.addEvent(e,"submit",function(t){Nette.validateForm(e)||(t&&t.stopPropagation?(t.stopPropagation(),t.preventDefault()):window.event&&(event.cancelBubble=!0,event.returnValue=!1))}))},Nette.initOnLoad=function(){Nette.addEvent(document,"DOMContentLoaded",function(){for(var e=0;e<document.forms.length;e++)for(var t=document.forms[e],n=0;n<t.elements.length;n++)if(t.elements[n].getAttribute("data-nette-rules")){Nette.initForm(t);break}Nette.addEvent(document.body,"click",function(e){for(var t=e.target||e.srcElement;t;){if(t.form&&t.type in{submit:1,image:1}){t.form["nette-submittedBy"]=t;break}t=t.parentNode}})})},Nette.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},Nette.inArray=function(e,t){if([].indexOf)return e.indexOf(t)>-1;for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},Nette.webalize=function(e){e=e.toLowerCase();var t,n,r="";for(t=0;t<e.length;t++)n=Nette.webalizeTable[e.charAt(t)],r+=n||e.charAt(t);return r.replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")},Nette.webalizeTable={"á":"a","ä":"a","č":"c","ď":"d","é":"e","ě":"e","í":"i","ľ":"l","ň":"n","ó":"o","ô":"o","ř":"r","š":"s","ť":"t","ú":"u","ů":"u","ý":"y","ž":"z"},Nette}),jQuery(document).ready(function(e){function t(t,n){t.forEach(function(t){t.message&&(e(t.element).parent().addClass("has-error").find(".help-block").remove(),e("<span class=help-block>").text(t.message).insertAfter(t.element)),n&&t.element.focus&&(t.element.focus(),n=!1)})}function n(t){e(t).is("form")?(e(".has-error",t).removeClass("has-error"),e(".help-block",t).remove()):e(t).parent().removeClass("has-error").find(".help-block").remove()}Nette.showFormErrors=function(e,r){n(e),t(r,!0)};var r=e(":input");r.keypress(function(){n(this)}),r.blur(function(){Nette.formErrors=[],Nette.validateControl(this),t(Nette.formErrors)})}),jQuery(document).ready(function(e){e(".fn-dnd-zone").dmUploader({url:"http://cssa.dev/helper/ajax/upload",type:"POST",dataType:"json",allowedTypes:"image/*",onUploadSuccess:function(t,n){e(this).find(".frm-thumbs").append('<input type="hidden" name="'+e(this).data("name")+'" value="'+n.id+'">'),e(this).find(".frm-preview").show().append('<div class="col-xs-6 col-md-3"><button data-value="'+n.id+'" type="button" class="close"><span>×</span></button><a href="#" class="thumbnail"><img src="'+n.thumb+'" alt="..."></a></div>')}}),e(".fn-dnd-zone button.close").on("click",function(){var t=e(this).data("value");e(this).parent().remove(),e(".frm-thumbs input[value="+t+"]").remove()})});
//# sourceMappingURL=admin.js.map
